# 📊 tool-csv-processor

ブラウザ上で動作するCSV変換・集計ツールです。CSVファイルの加工、フィルタリング、形式変換を簡単に行えます。

## ✨ 特徴

- **CSVプレビュー**: テーブル形式で見やすく表示
- **列操作**: 選択・並び替え・削除が自由自在
- **データフィルタリング**: 条件指定で絞り込み
- **基本集計**: 合計、平均、最大、最小を自動計算
- **形式変換**: JSON/TSV形式へエクスポート
- **エンコーディング対応**: UTF-8/Shift-JIS自動判定
- **完全ブラウザ処理**: サーバー不要、安全な処理
- **大容量対応**: 数万行のデータも高速処理

## 🚀 使い方

### 起動方法

1. `index.html` をブラウザで開く
2. すぐに使用開始できます

### 基本操作

1. **CSVファイルをアップロード**
   - ドラッグ&ドロップ、または「ファイルを選択」
   - エンコーディングは自動判定

2. **データプレビュー**
   - テーブル形式で表示
   - ヘッダー行を自動認識
   - スクロールで全データ確認

3. **列の操作**
   - 不要な列を削除
   - 列の順番を入れ替え
   - 列名を変更

4. **データフィルタリング**
   - 列を選択して条件指定
   - 「含む」「等しい」「以上」「以下」など
   - 複数条件の組み合わせ

5. **集計機能**
   - 数値列の合計・平均・最大・最小
   - カテゴリ別のカウント
   - 即座に結果表示

6. **エクスポート**
   - CSV（処理後）
   - JSON（配列/オブジェクト形式）
   - TSV（タブ区切り）

## 🎯 使用例

### 営業データの集計
1. 売上CSVをアップロード
2. 商品別・地域別にフィルタリング
3. 売上合計・平均を算出
4. JSON形式でエクスポート

### 顧客リストの整理
1. 顧客マスタCSVを読み込み
2. 不要な列（内部ID等）を削除
3. 都道府県でフィルタリング
4. クリーンなCSVとして出力

### データクレンジング
1. Shift-JIS形式の古いCSVを読み込み
2. 列名を分かりやすく変更
3. UTF-8形式で保存

## 🛠 技術スタック

- **Papa Parse**: 高速CSVパーサー
- **File API**: ファイル読み込み
- **Encoding.js**: 文字コード判定
- **Vanilla JavaScript**: ES6+
- **CSS Grid**: レスポンシブテーブル

## 📊 対応フォーマット

### インポート
- CSV (カンマ区切り)
- TSV (タブ区切り)
- エンコーディング: UTF-8, Shift-JIS, EUC-JP

### エクスポート
- CSV (UTF-8)
- JSON (Array/Object)
- TSV (タブ区切り)

## 📱 対応ブラウザ

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 🔒 プライバシー

- **完全クライアントサイド処理**
- データはサーバーに送信されません
- すべてブラウザ内で完結
- アップロードしたファイルは保持されません

## ⚙️ カスタマイズ

### デフォルト区切り文字の変更

`app.js` の設定値を編集：

```javascript
// デフォルト区切り文字
const delimiter = ','; // カンマ
// const delimiter = '\t'; // タブ
```

### 最大行数の制限

```javascript
// プレビュー表示行数
const maxPreviewRows = 1000;
```

## 📊 集計関数

### 利用可能な集計
- **合計 (SUM)**: 数値列の合計値
- **平均 (AVG)**: 数値列の平均値
- **最大 (MAX)**: 数値列の最大値
- **最小 (MIN)**: 数値列の最小値
- **カウント (COUNT)**: 行数カウント
- **ユニーク (DISTINCT)**: 重複除外カウント

## 🔧 トラブルシューティング

### 文字化けする
- ファイルのエンコーディングを確認
- Shift-JIS/EUC-JPの場合は自動変換を試行
- それでも文字化けする場合は手動でUTF-8に変換

### 正しく読み込めない
- 区切り文字を確認（カンマ/タブ）
- 引用符の形式を確認
- ヘッダー行の有無を確認

### 大容量ファイルが重い
- ブラウザのメモリ制限に注意
- 10万行以上の場合は分割を推奨
- 不要な列を削除して軽量化

## 📝 今後の拡張案

- [ ] 正規表現によるフィルタリング
- [ ] SQLライクなクエリ機能
- [ ] 複数CSVのマージ機能
- [ ] ピボットテーブル機能
- [ ] グラフ・チャート表示
- [ ] Excel形式のインポート/エクスポート

## 📄 ライセンス

MIT License

## 👤 作成者

Portfolio Project - System Development
